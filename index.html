<html>

<body style="background-color: black;">
    <img src="Warrior_Red.png" hidden />
    <canvas></canvas>
    <script>
        const canvas = document.querySelector("canvas")
        const ctx = canvas.getContext("2d")
        const imagem = document.querySelector('img')

        canvas.width = 1024;
        canvas.height = 720;

        let frames = 0
        let colunaFrame = 0;
        let linhaFrame = 1;

        const toque = {
            x: null,
            y: null
        }
        const player = {
            x: canvas.width / 2,
            y: canvas.height / 2
            y: canvas.height / 2,
            velocidade: 5
        }

        function animation() {

@@ -39,8 +40,8 @@
                const dx = toque.x - player.x;
                const dy = toque.y - player.y;
                const angulo = Math.atan2(dy, dx);
                player.x += Math.cos(angulo);
                player.y += Math.sin(angulo);
                player.x += Math.cos(angulo) * player.velocidade;
                player.y += Math.sin(angulo) * player.velocidade;
            }

            const alturaFrame = imagem.height / 8; //8 linha no sprite


@@ -71,10 +72,36 @@
            toque.x = evento.targetTouches[0].clientX
            toque.y = evento.targetTouches[0].clientY
        })
        addEventListener('touchmove', (evento) => {
            toque.x = evento.targetTouches[0].clientX
            toque.y = evento.targetTouches[0].clientY
        })
        addEventListener('touchend', (evento) => {
            toque.x = null
            toque.y = null
        })

        let mouseApertado = false
        addEventListener('mousedown', (evento) => {
            mouseApertado = true
            toque.x = evento.clientX
            toque.y = evento.clientY
        })
        addEventListener('mousemove', (evento) => {
            if (mouseApertado) {
                toque.x = evento.clientX
                toque.y = evento.clientY
            }
        })
        addEventListener('mouseup', (evento) => {
            mouseApertado = false
            toque.x = null
            toque.y = null
        })

        animation();

    </script>
</body>

</html>